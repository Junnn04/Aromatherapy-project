import{a as i}from"./axios-L6U4YIEh.js";import{_ as h,c as v,b as t,d as a,w as n,bF as f,I as g,J as x,F as k,r,o as d,e as c}from"./index-DVPQ6Ubu.js";var b={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:p}=b,y={data(){return{checkSuccess:!1}},methods:{checkAdmin(){const o=`${p}/api/user/check`;i.post(o).then(e=>{console.log("驗證成功:",e.data.success),this.checkSuccess=!0}).catch(e=>{alert(e.data.message),this.$router.push("/login")})},signout(){const o=`${p}/logout`;i.post(o).then(()=>{document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}).catch(e=>{alert(e.response.data.message)})}},mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");i.defaults.headers.common.Authorization=o,this.checkAdmin()}},V={class:"col-md-2",style:{position:"relative"}},R={class:"navbar navbar-expand-lg navbar-light h-100",style:{"background-color":"#90a4ae"}},$={class:"collapse navbar-collapse justify-content-center",id:"navbarNav"},A={class:"navbar-nav flex-column",style:{"margin-top":"70px",position:"absolute",top:"10px"}},E={class:"nav-item active",style:{"padding-bottom":"20px"}},T={class:"nav-item",style:{"padding-bottom":"20px"}},S={class:"nav-item",style:{"padding-bottom":"20px"}},w={class:"nav-item",style:{"padding-bottom":"20px"}},B={class:"nav-item",style:{"padding-bottom":"20px"}},L={class:"nav-item",style:{"padding-bottom":"20px"}},N={class:"col",style:{"margin-top":"100px"}};function C(o,e,D,I,u,l){const s=r("RouterLink"),m=r("RouterView");return d(),v(k,null,[t("div",V,[t("nav",R,[t("div",$,[t("ul",A,[t("li",E,[a(s,{to:"/admin/products"},{default:n(()=>[c("產品列表")]),_:1})]),t("li",T,[a(s,{to:"/admin/orders"},{default:n(()=>[c("訂單管理")]),_:1})]),t("li",S,[a(s,{to:"/admin/coupons"},{default:n(()=>[c("優惠卷管理")]),_:1})]),t("li",w,[a(s,{to:"/admin/article"},{default:n(()=>[c("文章管理")]),_:1})]),t("li",B,[a(s,{to:"/"},{default:n(()=>[c("回到前台")]),_:1})]),t("li",L,[t("a",{href:"#",onClick:e[0]||(e[0]=f((..._)=>l.signout&&l.signout(..._),["prevent"]))},"登出")])])])])]),t("div",N,[u.checkSuccess?(d(),g(m,{key:0})):x("",!0)])],64)}const U=h(y,[["render",C]]);export{U as default};
