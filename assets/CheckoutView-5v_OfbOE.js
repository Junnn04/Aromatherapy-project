import{a as v,S as _}from"./sweetalert2.all-9OAsj1rz.js";import{_ as V,c as u,b as e,d,w as y,F as C,g as R,t as a,r as p,o as h,D as m,i as f,E as b,j as T,e as E}from"./index-w6KDmUW0.js";var N={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:g,VITE_PATH:k}=N,U={data(){return{carts:{},temporder:{},checked:"credit card",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart(){const c=`${g}/api/${k}/cart`;v.get(c).then(s=>{this.carts=s.data.data}).catch(s=>{_.fire(s.response.data.message)})},createOrder(){const c=`${g}/api/${k}/order`,s=this.form;v.post(c,{data:s}).then(i=>{this.$router.push(`/Checkout/${i.data.orderId}`),this.$refs.form.resetForm()}).catch(i=>{_.fire(i.response.data.message)})},shopingNote(){_.fire({title:"購物須知",html:`
          <p>歡迎您光臨我們的購物平台！請仔細閱讀以下購物須知：</p>
          <ol>
            <li>商品資訊：請在購買商品前仔細閱讀商品描述、價格、規格、尺寸等相關資訊。</li>
            <li>庫存狀況：商品的庫存狀況可能隨時變化，請確認所需商品是否有庫存。</li>
            <li>購買流程：選擇您要購買的商品後，請按照網站指示完成訂單流程。</li>
            <li>付款方式：我們提供多種付款方式供您選擇，包括信用卡、支付寶、微信支付等。</li>
            <li>運送方式：我們會根據您提供的地址和選擇的運送方式安排商品的發貨。</li>
            <li>退換貨政策：我們提供合理的退換貨政策，詳細信息請參閱我們的退換貨政策頁面。</li>
            <li>客戶服務：如果您在購物過程中遇到任何問題或需要幫助，請隨時聯繫我們的客戶服務團隊。</li>
          </ol>
        `,icon:"info",confirmButtonText:"確定",confirmButtonColor:"#3085d6"})}},mounted(){this.getCart()}},A={class:"bg-light pt-7 pb-7"},j={class:"container"},P={class:"row justify-content-center flex-md-row flex-column-reverse"},M={class:"col-md-6"},S={class:"bg-white p-4"},F=e("h4",{class:"fw-bold"},"1. 訂購資訊",-1),B=e("p",{class:"mt-4"},"聯絡資訊",-1),D={class:"mb-2"},L=e("label",{for:"ContactMail",class:"text-muted mb-0 form-label"},"Email",-1),q=e("div",{class:"form-group form-check"},[e("input",{type:"checkbox",class:"form-check-input rounded-0",id:"ContactLorem"}),e("label",{class:"form-check-label",for:"ContactLorem"}," 是否記住Email")],-1),I={class:"mb-2"},O=e("label",{for:"ContactName",class:"text-muted mb-0 form-label"},"訂購人姓名",-1),H={class:""},W=e("label",{for:"ContactPhone",class:"text-muted mb-0 form-label"},"Phone",-1),z={class:"bg-white p-4 mt-3"},G=e("h4",{class:"fw-bold"},"2. 寄送資訊",-1),J=e("p",{class:"mt-4 mb-3"},"寄送地址",-1),K={class:"form-row"},Q={class:"col mb-2"},X=e("p",{class:"mt-4 mb-2"},"Payment",-1),Y={class:"form-check mb-2"},Z=e("label",{class:"form-check-label text-muted",for:"gridRadios1"},"credit card ",-1),$={class:"form-check mb-2"},ee=e("label",{class:"form-check-label text-muted",for:"gridRadios2"},"WebATM ",-1),se={class:"form-check mb-2"},te=e("label",{class:"form-check-label text-muted",for:"gridRadios3"},"ApplePay ",-1),oe={class:"d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end w-100"},le=e("i",{class:"fas fa-chevron-left me-2"},null,-1),de=e("button",{type:"submit",class:"btn btn-dark py-3 px-7 rounded-0",style:{"background-color":"#7fa185"}}," 確認訂單 ",-1),ae={class:"col-md-4"},ce={class:"border p-4 mb-4"},ie=e("h4",{class:"mb-4"},"訂購明細",-1),re=["src"],ne={class:"w-100"},me={class:"d-flex justify-content-between fw-bold"},_e={class:"mb-0"},ue={class:"mb-0"},pe={class:"d-flex justify-content-between"},he={class:"text-muted mb-0"},fe={class:"mb-0"},be={class:"table mt-4 border-top border-bottom text-muted"},xe=e("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"}," 小計 ",-1),ve={class:"text-end border-0 px-0 pt-4"},ge=e("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"}," 折扣 ",-1),ke={class:"text-end border-0 px-0 pt-0 pb-4"},we=e("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"}," 支付方式 ",-1),Ve={class:"text-end border-0 px-0 pt-0 pb-4"},ye={class:"d-flex justify-content-between mt-4"},Ce=e("p",{class:"mb-0 h4 fw-bold"},"結帳金額",-1),Re={class:"mb-0 h4 fw-bold"};function Te(c,s,i,Ee,t,x){const r=p("VField"),n=p("error-message"),w=p("VForm");return h(),u("div",A,[e("div",j,[e("div",P,[e("div",M,[d(w,{ref:"form",onSubmit:x.createOrder},{default:y(({errors:l})=>[e("div",S,[F,B,e("div",D,[L,d(r,{type:"email",class:m(["form-control rounded-0",{"is-invalid":l.email}]),id:"ContactMail",name:"email","aria-describedby":"emailHelp",placeholder:"example@gmail.com",rules:"required|email",modelValue:t.form.user.email,"onUpdate:modelValue":s[0]||(s[0]=o=>t.form.user.email=o)},null,8,["class","modelValue"]),d(n,{name:"email",class:"invalid-feedback"})]),q,e("div",I,[O,d(r,{type:"text",class:m(["form-control rounded-0",{"is-invalid":l.name}]),id:"ContactName",name:"name",placeholder:"Carmen A. Rose",rules:"required",modelValue:t.form.user.name,"onUpdate:modelValue":s[1]||(s[1]=o=>t.form.user.name=o)},null,8,["modelValue","class"]),d(n,{name:"name",class:"invalid-feedback"})]),e("div",H,[W,d(r,{type:"text",class:m(["form-control rounded-0",{"is-invalid":l.tel}]),id:"ContactPhone",placeholder:"09xxxxxxxx",rules:"required|min:10|max:10",modelValue:t.form.user.tel,"onUpdate:modelValue":s[2]||(s[2]=o=>t.form.user.tel=o),name:"tel"},null,8,["modelValue","class"]),d(n,{name:"tel",class:"invalid-feedback"})])]),e("div",z,[G,J,e("div",K,[e("div",Q,[d(r,{type:"text",class:m(["form-control",{"is-invalid":l.address}]),id:"Contactaddress",name:"address",placeholder:"請輸入地址",rules:"required",modelValue:t.form.user.address,"onUpdate:modelValue":s[3]||(s[3]=o=>t.form.user.address=o)},null,8,["class","modelValue"]),d(n,{name:"address",class:"invalid-feedback"})])]),X,e("div",Y,[f(e("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios1",value:"WebATM","onUpdate:modelValue":s[4]||(s[4]=o=>t.checked=o)},null,512),[[b,t.checked]]),Z]),e("div",$,[f(e("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios2",value:"ATM","onUpdate:modelValue":s[5]||(s[5]=o=>t.checked=o)},null,512),[[b,t.checked]]),ee]),e("div",se,[f(e("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios3",value:"ApplePay","onUpdate:modelValue":s[6]||(s[6]=o=>t.checked=o)},null,512),[[b,t.checked]]),te])]),e("div",oe,[e("a",{href:"./product.html",class:"text-dark mt-md-0 mt-3",onClick:s[7]||(s[7]=T(o=>x.shopingNote(),["prevent"]))},[le,E(" 購物須知")]),de])]),_:1},8,["onSubmit"])]),e("div",ae,[e("div",ce,[ie,(h(!0),u(C,null,R(t.carts.carts,l=>(h(),u("div",{class:"d-flex mb-2",key:l.id},[e("img",{src:l.product.imageUrl,alt:"",class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,re),e("div",ne,[e("div",me,[e("p",_e,a(l.product.title),1),e("p",ue,"x"+a(l.qty),1)]),e("div",pe,[e("p",he,[e("small",null,"NT$"+a(l.product.price),1)]),e("p",fe,"NT$"+a(l.total),1)])])]))),128)),e("table",be,[e("tbody",null,[e("tr",null,[xe,e("td",ve," NT$"+a(t.carts.total),1)]),e("tr",null,[ge,e("td",ke,a(t.carts.final_total-t.carts.total),1)]),e("tr",null,[we,e("td",Ve,a(t.checked),1)])])]),e("div",ye,[Ce,e("p",Re,"NT$"+a(t.carts.final_total),1)])])])])])])}const Ae=V(U,[["render",Te]]);export{Ae as default};
