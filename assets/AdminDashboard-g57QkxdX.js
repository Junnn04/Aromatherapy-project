import{a as i}from"./axios-L6U4YIEh.js";import{_ as m,c as v,b as t,d as c,w as a,bF as x,I as f,J as g,r as d,o as r,e as n}from"./index-u5xObLHv.js";var k={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:_}=k,y={data(){return{checkSuccess:!1}},methods:{checkAdmin(){const o=`${_}/api/user/check`;i.post(o).then(e=>{console.log("驗證成功:",e.data.success),this.checkSuccess=!0}).catch(e=>{alert(e.data.message),this.$router.push("/login")})},signout(){const o=`${_}/logout`;i.post(o).then(()=>{document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}).catch(e=>{alert(e.response.data.message)})}},mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");i.defaults.headers.common.Authorization=o,this.checkAdmin()}},b={class:"row"},V={class:"col-md-2"},R={class:"text-white p-3",style:{height:"900px",background:"#8d6e63"}},A=t("h2",{class:"text-center"},"Aroma",-1),$={class:"navbar navbar-expand-lg navbar-light"},w={class:"collapse navbar-collapse justify-content-center",id:"navbarNav"},E={class:"navbar-nav flex-column",style:{"margin-top":"70px",position:"absolute",top:"10px"}},T={class:"nav-item active",style:{"padding-bottom":"20px"}},S={class:"nav-item",style:{"padding-bottom":"20px"}},B={class:"nav-item",style:{"padding-bottom":"20px"}},L={class:"nav-item",style:{"padding-bottom":"20px"}},N={class:"nav-item",style:{"padding-bottom":"20px"}},C={class:"nav-item",style:{"padding-bottom":"20px"}},D={class:"nav-item",style:{"padding-bottom":"20px"}},I={class:"col"};function j(o,e,U,M,p,l){const s=d("RouterLink"),u=d("RouterView");return r(),v("div",b,[t("div",V,[t("div",R,[A,t("nav",$,[t("div",w,[t("ul",E,[t("li",T,[c(s,{to:"/admin/products",style:{color:"#d7ccc8"}},{default:a(()=>[n("產品列表")]),_:1})]),t("li",S,[c(s,{to:"/admin/orders",style:{color:"#d7ccc8"}},{default:a(()=>[n("訂單管理")]),_:1})]),t("li",B,[c(s,{to:"/admin/coupons",style:{color:"#d7ccc8"}},{default:a(()=>[n("優惠卷管理")]),_:1})]),t("li",L,[c(s,{to:"/admin/article",style:{color:"#d7ccc8"}},{default:a(()=>[n("文章管理")]),_:1})]),t("li",N,[c(s,{to:"/admin/picture",style:{color:"#d7ccc8"}},{default:a(()=>[n("圖片管理")]),_:1})]),t("li",C,[c(s,{to:"/",style:{color:"#d7ccc8"}},{default:a(()=>[n("回到前台")]),_:1})]),t("li",D,[t("a",{href:"#",onClick:e[0]||(e[0]=x((...h)=>l.signout&&l.signout(...h),["prevent"])),style:{color:"#d7ccc8"}},"登出")])])])])])]),t("div",I,[p.checkSuccess?(r(),f(u,{key:0})):g("",!0)])])}const z=m(y,[["render",j]]);export{z as default};
