import{a as d,S as g}from"./sweetalert2.all-CRiE7WjR.js";import{l as b}from"./index-1pQDvJBu.js";import{_ as L,c as a,d as u,b as t,F as _,g as x,t as i,r as h,o as c,i as k}from"./index-ZW9AbQuS.js";import"./vue.runtime.esm-bundler-hUgpTmnp.js";var A={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:p,VITE_PATH:f}=A,E={data(){return{articles:[],article:[],isLoading:!1,fullPage:!0}},methods:{getArticles(l=1){this.isLoading=!0;const n=`${p}/api/${f}/articles?page=${l}`;d.get(n).then(e=>{this.articles=e.data.articles,this.pages=e.data.pagination,this.isLoading=!1}).catch(e=>{g.fire(e.response.data.message),this.isLoading=!1})},getArticle(l){this.isLoading=!0;const n=`${p}/api/${f}/article/${l}`;d.get(n).then(e=>{this.article=e.data.article,this.isLoading=!1}).catch(e=>{g.fire(e.response.data.message),this.isLoading=!1})}},mounted(){this.getArticles()},components:{loading:b}},T=t("div",{class:"position-relative"},[t("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://i.postimg.cc/FKQNPW7C/store.jpg)","background-position":"center center",opacity:"0.3","background-repeat":"no-repeat","background-size":"100% auto"}}),t("div",{class:"container d-flex flex-column",style:{"min-height":"50vh"}})],-1),V={class:"container"},w={class:"row justify-content-center"},P={class:"text-center"},S={class:"table table-hover align-middle mt-4"},j=t("thead",null,[t("tr",{class:"table-success",style:{"background-color":"#7fa185"}},[t("th",{width:"80"},"序列"),t("th",null,"標題"),t("th",null,"內容描述"),t("th",null,"作者"),t("th",{class:"d-none d-xl-block"},"建立時間")])],-1),C={style:{"text-align":"left",cursor:"pointer"}},R=["onClick"],B={style:{"text-align":"left"}},D={class:"d-none d-xl-block"},H={class:"row justify-content-center py-5"},I={class:"col-md-8"},M={class:"text-center",style:{color:"#4e342e"}},U={class:"mt-5 text-end"},F={class:"text-end"},N=["src"],O=["innerHTML"];function z(l,n,e,K,s,r){const m=h("loading"),v=h("pagination");return c(),a(_,null,[u(m,{active:s.isLoading,"onUpdate:active":n[0]||(n[0]=o=>s.isLoading=o),"can-cancel":!0,"on-cancel":l.onCancel,"is-full-page":s.fullPage,loader:"dots"},null,8,["active","on-cancel","is-full-page"]),T,t("div",V,[t("div",w,[t("div",P,[t("table",S,[j,t("tbody",null,[(c(!0),a(_,null,x(s.articles,(o,y)=>(c(),a("tr",{key:o.id},[t("td",null,i(y+1),1),t("td",C,[t("a",{style:{color:"#4e342e"},class:"text-decoration-none",onClick:k(Q=>r.getArticle(o.id),["prevent"])},i(o.title),9,R)]),t("td",B,i(o.description),1),t("td",null,i(o.author),1),t("td",D,i(o.create_at),1)]))),128))])]),u(v,{pages:l.pages,"get-article":r.getArticle},null,8,["pages","get-article"])])]),t("div",H,[t("div",I,[t("strong",null,[t("h3",M,i(s.article.title),1)]),t("small",null,[t("p",U,i(s.article.author),1)]),t("small",null,[t("p",F,i(s.article.create_at),1)]),t("img",{src:s.article.image},null,8,N),t("p",{class:"my-5",innerHTML:s.article.content},null,8,O)])])])],64)}const X=L(E,[["render",z]]);export{X as default};
