import{a as f,S as v}from"./sweetalert2.all-CRiE7WjR.js";import{l as k}from"./index-1pQDvJBu.js";import{_ as S,a as P,c as d,b as s,d as n,w as r,F as a,g as u,t as i,h as T,v as L,i as V,r as p,o as c,j as w,e as U}from"./index-ZW9AbQuS.js";import{c as N}from"./cartStore-jA6we4sA.js";import{P as E,N as R,S as B,a as C}from"./pagination-u9sAcn5G.js";import"./vue.runtime.esm-bundler-hUgpTmnp.js";var A={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:b,VITE_PATH:y}=A,D={data(){return{products:[],product:{imagesUrl:[]},qty:1,isLoading:!1,fullPage:!0}},setup(){return{modules:[E,R]}},methods:{getProduct(){this.isLoading=!0;const{id:l}=this.$route.params;f.get(`${b}/api/${y}/product/${l}`).then(o=>{this.product=o.data.product,this.isLoading=!1}).catch(o=>{v.fire(o.response.data.message),this.isLoading=!1})},getProducts(){const l=`${b}/api/${y}/products`;f.get(l).then(o=>{this.products=o.data.products}).catch(o=>{v.fire(o.response.data.message)})},...P(N,["addToCart"])},mounted(){this.getProduct(),this.getProducts()},components:{Swiper:B,SwiperSlide:C,loading:k}},q={class:"container pt-7"},I={class:"row align-items-center"},j={class:"col-md-6"},M=["src","alt"],F=["src","alt"],H={class:"row pt-3"},O=["src"],z={class:"col-md-6"},G={"aria-label":"breadcrumb"},J={class:"breadcrumb bg-white px-0 mb-0 py-3"},K={class:"breadcrumb-item"},Q={class:"breadcrumb-item"},W={class:"fw-bold h1 mb-1"},X={class:"mt-4"},Y={class:"text-muted"},Z={class:"mb-0 text-muted text-end"},$={class:"h4 fw-bold text-end"},ss={class:"row align-items-center"},ts={class:"col-6"},es={class:"input-group my-3 bg-light rounded"},os=["value"],is={class:"col-6"},cs={class:"my-5"},rs=s("h3",{class:"fw-bold"},"其他商品",-1),ls={class:"swiper-container mt-4 mb-5"},ds={class:"swiper-wrapper"},ns={class:"swiper-slide"},as={class:"card border-0 mb-4 position-relative position-relative"},us=["src"],ps=s("a",{href:"#",class:"text-dark"},null,-1),_s={class:"card-body p-0"},ms={class:"mb-0 mt-3 fw-bold",style:{color:"#4e342e"}},hs={class:"card-text mb-0 text-primary-emphasis"},gs={class:"text-muted"},fs={class:"text-muted"};function vs(l,o,ws,m,e,bs){const x=p("loading"),_=p("swiper-slide"),h=p("swiper"),g=p("RouterLink");return c(),d(a,null,[s("div",null,[n(x,{active:e.isLoading,"onUpdate:active":o[0]||(o[0]=t=>e.isLoading=t),"can-cancel":!0,"on-cancel":l.onCancel,"is-full-page":e.fullPage,loader:"dots"},null,8,["active","on-cancel","is-full-page"])]),s("div",q,[s("div",I,[s("div",j,[n(h,{navigation:!0,modules:m.modules,class:"mySwiper"},{default:r(()=>[n(_,null,{default:r(()=>[s("img",{src:e.product.imageUrl,class:"d-block w-100",alt:e.product.title},null,8,M)]),_:1}),(c(!0),d(a,null,u(e.product.imagesUrl,t=>(c(),w(_,{key:t.id},{default:r(()=>[s("img",{src:t,class:"d-block w-100",alt:e.product.title},null,8,F)]),_:2},1024))),128))]),_:1},8,["modules"]),s("div",H,[(c(!0),d(a,null,u(e.product.imagesUrl,t=>(c(),d("div",{class:"col-md-2",key:t.id},[s("img",{src:t,width:"100px"},null,8,O)]))),128))])]),s("div",z,[s("nav",G,[s("ol",J,[s("li",K,[n(g,{class:"text-muted",to:"/products"},{default:r(()=>[U("產品")]),_:1})]),s("li",Q,i(e.product.title),1)])]),s("h2",W,i(e.product.title),1),s("p",X,i(e.product.description),1),s("p",Y,i(e.product.content),1),s("p",Z,[s("del",null,"NT$"+i(e.product.origin_price),1)]),s("p",$,"NT$"+i(e.product.price),1),s("div",ss,[s("div",ts,[s("div",es,[T(s("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=t=>e.qty=t)},[(c(),d(a,null,u(20,t=>s("option",{value:t,key:t},i(t),9,os)),64))],512),[[L,e.qty]])])]),s("div",is,[s("a",{class:"text-nowrap btn btn-dark w-100 py-2 border-0",style:{"background-color":"#7fa185"},onClick:o[2]||(o[2]=V(t=>l.addToCart(e.product.id,e.qty),["prevent"]))},"加入購物車")])])])]),s("div",cs,[rs,s("div",ls,[s("div",ds,[n(h,{ref:"{swiperRef}",slidesPerView:3,centeredSlides:!0,spaceBetween:30,pagination:{type:"fraction"},navigation:!0,modules:m.modules},{default:r(()=>[(c(!0),d(a,null,u(e.products,t=>(c(),w(_,{key:t.id},{default:r(()=>[n(g,{class:"text-decoration-none",to:`/product/${t.id}`},{default:r(()=>[s("div",ns,[s("div",as,[s("img",{src:t.imageUrl,class:"card-img-top rounded-0"},null,8,us),ps,s("div",_s,[s("h4",ms,i(t.title),1),s("p",hs," NT$"+i(t.price),1),s("p",gs,[s("span",fs,[s("del",null,"NT$"+i(t.origin_price),1)])])])])])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])])])])])],64)}const Ls=S(D,[["render",vs]]);export{Ls as default};
