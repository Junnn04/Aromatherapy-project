import{a as d,S as g}from"./sweetalert2.all-8o142IF0.js";import{l as b}from"./index--UJVwKrk.js";/* empty css              */import{p as L}from"./ArticlesPagination-X_8U3vRc.js";import{_ as k,c,d as p,b as t,F as _,g as y,t as n,G as w,r as h,o as l,j as T,e as A}from"./index-vI8zUs43.js";import"./vue.runtime.esm-bundler-rHkQ3wzT.js";var E={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:m,VITE_PATH:u}=E,S={data(){return{articles:[],article:[],pages:{},isLoading:!1,fullPage:!0}},methods:{getArticles(a=1){this.isLoading=!0;const s=`${m}/api/${u}/articles?page=${a}`;d.get(s).then(o=>{this.articles=o.data.articles,this.pages=o.data.pagination,this.isLoading=!1}).catch(o=>{g.fire(o.response.data.message),this.isLoading=!1})},getArticle(a){this.isLoading=!0;const s=`${m}/api/${u}/article/${a}`;d.get(s).then(o=>{this.article=o.data.article,this.isLoading=!1;const e=this.$refs.content.offsetTop;window.scrollTo({top:e,behavior:"smooth"})}).catch(o=>{g.fire(o.response.data.message),this.isLoading=!1})},formatDate(a){const s=new Date(a*1e3);return`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-${s.getDate().toString().padStart(2,"0")}`}},mounted(){this.getArticles()},components:{loading:b,pagination:L}},V=t("div",{class:"position-relative"},[t("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://i.postimg.cc/FKQNPW7C/store.jpg)","background-position":"center center",opacity:"0.3","background-repeat":"no-repeat","background-size":"100% auto"}}),t("div",{class:"container d-flex flex-column",style:{"min-height":"50vh"}})],-1),D={class:"container"},j={class:"row justify-content-center"},P={class:"text-center col-md-9"},U={class:"mt-4"},C=["onClick"],M={class:"row"},N={class:"col-md-3"},R=["src","alt"],B={class:"col-md-9 pt-5 align-items-center"},F={class:"h6 pt-3"},H={class:"row justify-content-center pt-5",ref:"content"},I={key:0,class:"col-md-8"},O={class:"text-center pb-3 border-bottom",style:{color:"#4e342e"}},z=["src","alt"],G={class:"mt-5 text-end"},K={class:"text-end"},Q=["src"],W=["innerHTML"];function Y(a,s,o,f,e,r){const v=h("loading"),x=h("pagination");return l(),c(_,null,[p(v,{active:e.isLoading,"onUpdate:active":s[0]||(s[0]=i=>e.isLoading=i),"can-cancel":!0,"is-full-page":e.fullPage,loader:"dots"},null,8,["active","is-full-page"]),V,t("div",D,[t("div",j,[t("div",P,[t("div",U,[(l(!0),c(_,null,y(e.articles,i=>(l(),c("div",{class:"row mb-3 link",key:i.id},[t("a",{style:{color:"#4e342e",cursor:"pointer"},class:"text-decoration-none h2 d-block text-start",onClick:T(q=>r.getArticle(i.id),["prevent"])},[t("div",M,[t("div",N,[t("img",{src:i.imageUrl,alt:i.title,style:{"max-width":"100%"}},null,8,R)]),t("div",B,[A(n(i.title)+" ",1),t("p",F,"作者 / "+n(i.author),1)])])],8,C)]))),128))]),p(x,{pages:e.pages,"get-article":r.getArticle},null,8,["pages","get-article"])])]),t("div",H,[Object.keys(e.article).length>0?(l(),c("div",I,[t("strong",null,[t("h2",O,n(e.article.title),1)]),t("img",{class:"img-fluid img-thumbnail mx-auto d-block w-80 mt-3",style:{"max-height":"30%"},src:e.article.imageUrl,alt:e.article.title},null,8,z),t("small",null,[t("p",G,"作者 / "+n(e.article.author),1)]),t("small",null,[t("p",K,n(r.formatDate(e.article.create_at)),1)]),t("img",{src:e.article.image},null,8,Q),t("p",{innerHTML:e.article.content},null,8,W)])):w("",!0)],512)])],64)}const st=k(S,[["render",Y]]);export{st as default};
