import{E as c}from"./index-Ejn4ikI0.js";import{a as r,S as a}from"./sweetalert2.all-UHgEhJL2.js";/* empty css              */var f={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:s,VITE_PATH:n}=f,h=c("cartStore",{state:()=>({carts:[],qty:1,final_total:0,total:0,isLoading:!1}),actions:{getCart(){this.isLoading=!0,r.get(`${s}/api/${n}/cart`).then(t=>{this.carts=t.data.data.carts,this.final_total=t.data.data.final_total,this.total=t.data.data.total,this.isLoading=!1}).catch(t=>{a.fire(t.response.data.message),this.isLoading=!1})},addToCart(t,e=1){const i={product_id:t,qty:e};r.post(`${s}/api/${n}/cart`,{data:i}).then(()=>{a.fire({confirmButtonColor:"#7fa185",title:"已將商品添加進購物車"}),this.getCart()}).catch(o=>{a.fire({title:o.response.data.message,confirmButtonColor:"#7fa185"})})},removeCartItem(t){a.fire({title:"確定要從購物車中移除此商品嗎？",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7fa185",confirmButtonText:"確認",cancelButtonText:"取消"}).then(e=>{if(e.isConfirmed){const i=`${s}/api/${n}/cart/${t}`;r.delete(i).then(o=>{a.fire({title:o.data.message,confirmButtonColor:"#7fa185"}),this.getCart()}).catch(o=>{a.fire({title:o.response.data.message,confirmButtonColor:"#7fa185"})})}})}}});export{h as c};
