import{a as m,S as h}from"./sweetalert2.all-WMIiuvla.js";import{l as y}from"./index-Fn4hfZu5.js";import{_ as k,a as P,c as a,b as s,d as l,F as n,g as u,w as d,t as i,h as S,v as T,i as E,r as p,o as r,e as L,j as V}from"./index-SsVEw1IR.js";import{c as C}from"./cartStore-F0gCl0Ia.js";import{P as N,N as U,S as R,a as B}from"./pagination-4aJW3gbC.js";import"./vue.runtime.esm-bundler-Fudv9Vhl.js";var D={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:g,VITE_PATH:f}=D,q={data(){return{products:[],product:{imagesUrl:[]},qty:1,isLoading:!1,fullPage:!0}},setup(){return{modules:[N,U]}},methods:{getProduct(){this.isLoading=!0;const{id:c}=this.$route.params;m.get(`${g}/api/${f}/product/${c}`).then(o=>{this.product=o.data.product,this.isLoading=!1}).catch(o=>{h.fire(o.response.data.message),this.isLoading=!1})},getProducts(){const c=`${g}/api/${f}/products`;m.get(c).then(o=>{this.products=o.data.products}).catch(o=>{h.fire(o.response.data.message)})},...P(C,["addToCart"])},mounted(){this.getProduct(),this.getProducts()},components:{Swiper:R,SwiperSlide:B,loading:y}},A={class:"container pt-7"},j={class:"row align-items-center"},I={class:"col-md-6"},M={id:"carouselExampleControls",class:"carousel slide","data-ride":"carousel"},H={class:"carousel-inner"},O={class:"carousel-item active"},F=["src","alt"],J=s("div",{class:"carousel-item"},[s("img",{src:"https://images.unsplash.com/photo-1502743780242-f10d2ce370f3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1916&q=80",class:"d-block w-100",alt:"..."})],-1),Q=s("a",{class:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev"},[s("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),s("span",{class:"sr-only"},"Previous")],-1),W=s("a",{class:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next"},[s("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),s("span",{class:"sr-only"})],-1),z={class:"row pt-3"},G=["src"],K={class:"col-md-6"},X={"aria-label":"breadcrumb"},Y={class:"breadcrumb bg-white px-0 mb-0 py-3"},Z={class:"breadcrumb-item"},$={class:"breadcrumb-item"},ss={class:"fw-bold h1 mb-1"},ts={class:"mt-4"},es={class:"text-muted"},os={class:"mb-0 text-muted text-end"},is={class:"h4 fw-bold text-end"},cs={class:"row align-items-center"},rs={class:"col-6"},as={class:"input-group my-3 bg-light rounded"},ls=["value"],ns={class:"col-6"},ds={class:"my-5"},ps=s("h3",{class:"fw-bold"},"其他商品",-1),us={class:"swiper-container mt-4 mb-5"},_s={class:"swiper-wrapper"},ms={class:"swiper-slide"},hs={class:"card border-0 mb-4 position-relative position-relative"},gs=["src"],fs=s("a",{href:"#",class:"text-dark"},null,-1),vs={class:"card-body p-0"},bs={class:"mb-0 mt-3 fw-bold",style:{color:"#4e342e"}},ws={class:"card-text mb-0 text-primary-emphasis"},xs={class:"text-muted"},ys={class:"text-muted"};function ks(c,o,Ps,v,e,Ss){const b=p("loading"),_=p("RouterLink"),w=p("swiper-slide"),x=p("swiper");return r(),a(n,null,[s("div",null,[l(b,{active:e.isLoading,"onUpdate:active":o[0]||(o[0]=t=>e.isLoading=t),"can-cancel":!0,"on-cancel":c.onCancel,"is-full-page":e.fullPage,loader:"dots"},null,8,["active","on-cancel","is-full-page"])]),s("div",A,[s("div",j,[s("div",I,[s("div",M,[s("div",H,[s("div",O,[s("img",{src:e.product.imageUrl,class:"d-block w-100",alt:e.product.title},null,8,F)]),J]),Q,W]),s("div",z,[(r(!0),a(n,null,u(e.product.imagesUrl,t=>(r(),a("div",{class:"col-md-2",key:t.id},[s("img",{src:t,width:"100px"},null,8,G)]))),128))])]),s("div",K,[s("nav",X,[s("ol",Y,[s("li",Z,[l(_,{class:"text-muted",to:"/products"},{default:d(()=>[L("產品")]),_:1})]),s("li",$,i(e.product.title),1)])]),s("h2",ss,i(e.product.title),1),s("p",ts,i(e.product.description),1),s("p",es,i(e.product.content),1),s("p",os,[s("del",null,"NT$"+i(e.product.origin_price),1)]),s("p",is,"NT$"+i(e.product.price),1),s("div",cs,[s("div",rs,[s("div",as,[S(s("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=t=>e.qty=t)},[(r(),a(n,null,u(20,t=>s("option",{value:t,key:t},i(t),9,ls)),64))],512),[[T,e.qty]])])]),s("div",ns,[s("a",{class:"text-nowrap btn btn-dark w-100 py-2 border-0",style:{"background-color":"#7fa185"},onClick:o[2]||(o[2]=E(t=>c.addToCart(e.product.id,e.qty),["prevent"]))},"加入購物車")])])])]),s("div",ds,[ps,s("div",us,[s("div",_s,[l(x,{ref:"{swiperRef}",slidesPerView:3,centeredSlides:!0,spaceBetween:30,pagination:{type:"fraction"},navigation:!0,modules:v.modules},{default:d(()=>[(r(!0),a(n,null,u(e.products,t=>(r(),V(w,{key:t.id},{default:d(()=>[l(_,{class:"text-decoration-none",to:`/product/${t.id}`},{default:d(()=>[s("div",ms,[s("div",hs,[s("img",{src:t.imageUrl,class:"card-img-top rounded-0"},null,8,gs),fs,s("div",vs,[s("h4",bs,i(t.title),1),s("p",ws," NT$"+i(t.price),1),s("p",xs,[s("span",ys,[s("del",null,"NT$"+i(t.origin_price),1)])])])])])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])])])])])],64)}const Us=k(q,[["render",ks]]);export{Us as default};
