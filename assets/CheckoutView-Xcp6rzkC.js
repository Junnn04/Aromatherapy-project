import{a as v,S as _}from"./sweetalert2.all-CRiE7WjR.js";import{_ as V,c as h,b as e,d as a,w as y,F as E,g as C,t as r,r as f,o as b,C as u,h as p,D as R,E as x,i as T,e as U}from"./index-ZW9AbQuS.js";var N={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:g,VITE_PATH:k}=N,S={data(){return{carts:{},temporder:{},checked:"credit card",rememberEmail:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart(){const d=`${g}/api/${k}/cart`;v.get(d).then(s=>{this.carts=s.data.data}).catch(s=>{_.fire(s.response.data.message)})},createOrder(){const d=`${g}/api/${k}/order`,s=this.form;v.post(d,{data:s}).then(i=>{this.$router.push(`/Checkout/${i.data.orderId}`),this.$refs.form.resetForm()}).catch(i=>{_.fire(i.response.data.message)})},updateRememberEmail(){if(this.rememberEmail){const{email:d}=this.form.user;localStorage.setItem("rememberEmail",d)}else localStorage.removeItem("rememberEmail")},shopingNote(){_.fire({title:"購物須知",html:`
          <p>歡迎您光臨我們的購物平台！請仔細閱讀以下購物須知：</p>
          <ol class="text-start">
            <li>商品資訊：請在購買商品前仔細閱讀商品描述、價格、規格、尺寸等相關資訊。</li>
            <li>庫存狀況：商品的庫存狀況可能隨時變化，請確認所需商品是否有庫存。</li>
            <li>購買流程：選擇您要購買的商品後，請按照網站指示完成訂單流程。</li>
            <li>付款方式：我們提供多種付款方式供您選擇，包括信用卡、支付寶、微信支付等。</li>
            <li>運送方式：我們會根據您提供的地址和選擇的運送方式安排商品的發貨。</li>
            <li>退換貨政策：我們提供合理的退換貨政策，詳細信息請參閱我們的退換貨政策頁面。</li>
            <li>客戶服務：如果您在購物過程中遇到任何問題或需要幫助，請隨時聯繫我們的客戶服務團隊。</li>
          </ol>
        `,icon:"info",confirmButtonText:"確定",confirmButtonColor:"#3085d6"})}},mounted(){this.getCart(),localStorage.getItem("rememberEmail")&&(this.rememberEmail=!0)}},A={class:"bg-light pt-7 pb-7"},j={class:"container"},I={class:"row justify-content-center flex-md-row flex-column-reverse"},M={class:"col-md-6"},P={class:"bg-white p-4"},F=e("h4",{class:"fw-bold"},"1. 訂購資訊",-1),B=e("p",{class:"mt-4"},"聯絡資訊",-1),D={class:"mb-2"},L=e("label",{for:"ContactName",class:"text-muted mb-0 form-label"},"訂購人姓名",-1),q={class:"mb-2"},O=e("label",{for:"ContactPhone",class:"text-muted mb-0 form-label"},"訂購人電話",-1),H={class:"mb-2"},W=e("label",{for:"ContactMail",class:"text-muted mb-0 form-label"},"Email",-1),z={class:"form-group form-check"},G=e("label",{class:"form-check-label fs-6",for:"ContactLorem"}," 是否記住Email",-1),J={class:"bg-white p-4 mt-3"},K=e("h4",{class:"fw-bold"},"2. 寄送資訊",-1),Q=e("p",{class:"mt-4 mb-3"},"寄送地址",-1),X={class:"form-row"},Y={class:"col mb-2"},Z=e("p",{class:"mt-4 mb-2"},"Payment",-1),$={class:"form-check mb-2"},ee=e("label",{class:"form-check-label text-muted",for:"gridRadios1"},"credit card ",-1),se={class:"form-check mb-2"},te=e("label",{class:"form-check-label text-muted",for:"gridRadios2"},"WebATM ",-1),oe={class:"form-check mb-2"},le=e("label",{class:"form-check-label text-muted",for:"gridRadios3"},"ApplePay ",-1),ae={class:"d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end w-100"},re=e("i",{class:"fas fa-chevron-left me-2"},null,-1),de=e("button",{type:"submit",class:"btn btn-dark py-3 px-7 rounded border-0",style:{"background-color":"#7fa185"}}," 確認訂單 ",-1),ie={class:"col-md-4"},ce={class:"border p-4 mb-4"},ne=e("h4",{class:"mb-4"},"訂購明細",-1),me=["src"],ue={class:"w-100"},pe={class:"d-flex justify-content-between fw-bold"},_e={class:"mb-0"},he={class:"mb-0"},fe={class:"d-flex justify-content-between"},be={class:"text-muted mb-0"},xe={class:"mb-0"},ve={class:"table mt-4 border-top border-bottom text-muted"},ge=e("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"}," 小計 ",-1),ke={class:"text-end border-0 px-0 pt-4"},we=e("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"}," 折扣 ",-1),Ve={class:"text-end border-0 px-0 pt-0 pb-4"},ye=e("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"}," 支付方式 ",-1),Ee={class:"text-end border-0 px-0 pt-0 pb-4"},Ce={class:"d-flex justify-content-between mt-4"},Re=e("p",{class:"mb-0 h4 fw-bold"},"結帳金額",-1),Te={class:"mb-0 h4 fw-bold"};function Ue(d,s,i,Ne,t,c){const n=f("VField"),m=f("error-message"),w=f("VForm");return b(),h("div",A,[e("div",j,[e("div",I,[e("div",M,[a(w,{ref:"form",onSubmit:c.createOrder},{default:y(({errors:l})=>[e("div",P,[F,B,e("div",D,[L,a(n,{type:"text",class:u(["form-control rounded-0",{"is-invalid":l.name}]),id:"ContactName",name:"name",placeholder:"Carmen A. Rose",rules:"required",modelValue:t.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=o=>t.form.user.name=o)},null,8,["modelValue","class"]),a(m,{name:"name",class:"invalid-feedback"})]),e("div",q,[O,a(n,{type:"text",class:u(["form-control rounded-0",{"is-invalid":l.tel}]),id:"ContactPhone",placeholder:"09xxxxxxxx",rules:"required|min:10|max:10",modelValue:t.form.user.tel,"onUpdate:modelValue":s[1]||(s[1]=o=>t.form.user.tel=o),name:"tel"},null,8,["modelValue","class"]),a(m,{name:"tel",class:"invalid-feedback"})]),e("div",H,[W,a(n,{type:"email",class:u(["form-control rounded-0",{"is-invalid":l.email}]),id:"ContactMail",name:"email","aria-describedby":"emailHelp",placeholder:"example@gmail.com",rules:"required|email",modelValue:t.form.user.email,"onUpdate:modelValue":s[2]||(s[2]=o=>t.form.user.email=o)},null,8,["class","modelValue"]),a(m,{name:"email",class:"invalid-feedback"})]),e("div",z,[e("small",null,[p(e("input",{type:"checkbox",class:"form-check-input rounded-0",id:"ContactLorem","onUpdate:modelValue":s[3]||(s[3]=o=>t.rememberEmail=o),onChange:s[4]||(s[4]=(...o)=>c.updateRememberEmail&&c.updateRememberEmail(...o))},null,544),[[R,t.rememberEmail]]),G])])]),e("div",J,[K,Q,e("div",X,[e("div",Y,[a(n,{type:"text",class:u(["form-control",{"is-invalid":l.address}]),id:"Contactaddress",name:"address",placeholder:"請輸入地址",rules:"required",modelValue:t.form.user.address,"onUpdate:modelValue":s[5]||(s[5]=o=>t.form.user.address=o)},null,8,["class","modelValue"]),a(m,{name:"address",class:"invalid-feedback"})])]),Z,e("div",$,[p(e("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios1",value:"credit card","onUpdate:modelValue":s[6]||(s[6]=o=>t.checked=o)},null,512),[[x,t.checked]]),ee]),e("div",se,[p(e("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios2",value:"WebATM","onUpdate:modelValue":s[7]||(s[7]=o=>t.checked=o)},null,512),[[x,t.checked]]),te]),e("div",oe,[p(e("input",{class:"form-check-input",type:"radio",name:"gridRadios",id:"gridRadios3",value:"ApplePay","onUpdate:modelValue":s[8]||(s[8]=o=>t.checked=o)},null,512),[[x,t.checked]]),le])]),e("div",ae,[e("a",{href:"./product.html",class:"text-dark mt-md-0 mt-3",onClick:s[9]||(s[9]=T(o=>c.shopingNote(),["prevent"]))},[re,U(" 購物須知")]),de])]),_:1},8,["onSubmit"])]),e("div",ie,[e("div",ce,[ne,(b(!0),h(E,null,C(t.carts.carts,l=>(b(),h("div",{class:"d-flex mb-2",key:l.id},[e("img",{src:l.product.imageUrl,alt:"",class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,me),e("div",ue,[e("div",pe,[e("p",_e,r(l.product.title),1),e("p",he,"x"+r(l.qty),1)]),e("div",fe,[e("p",be,[e("small",null,"NT$"+r(l.product.price),1)]),e("p",xe,"NT$"+r(l.total),1)])])]))),128)),e("table",ve,[e("tbody",null,[e("tr",null,[ge,e("td",ke," NT$"+r(t.carts.total),1)]),e("tr",null,[we,e("td",Ve,r(t.carts.final_total-t.carts.total),1)]),e("tr",null,[ye,e("td",Ee,r(t.checked),1)])])]),e("div",Ce,[Re,e("p",Te,"NT$"+r(t.carts.final_total),1)])])])])])])}const je=V(S,[["render",Ue]]);export{je as default};
