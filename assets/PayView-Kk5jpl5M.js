import{a as m}from"./axios-L6U4YIEh.js";import{S as f}from"./sweetalert2.all-7pLa5uUz.js";import{_ as v,c as l,b as e,F as g,aV as y,t as o,d as r,w,r as c,o as i,av as h}from"./index-u5xObLHv.js";import"./_commonjsHelpers-1J56E-h6.js";var L={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"junapi",BASE_URL:"/Aromatherapy-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:_,VITE_PATH:b}=L,T={data(){return{orderId:"",order:[],from:{is_paid:!1}}},methods:{getOrder(){const d=`${_}/api/${b}/order/${this.orderId}`;m.get(d).then(t=>{console.log(t.data.order.products),this.order=t.data.order.products}).catch(t=>{alert(t.response.data.message)})},payOrder(){const d=`${_}/api/${b}/pay/${this.orderId}`;m.post(d).then(()=>{this.getOrder(),f.fire("付款成功"),this.$router.push("/checkoutSuccess")}).catch(t=>{alert(t.response.data.message)})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},k={class:"container mt-5"},V=e("div",{class:"row justify-content-center"},[e("div",{class:"col-md-10"},[e("h3",{class:"fw-bold mb-4 pt-3"},"付款")])],-1),E={class:"row flex-row-reverse justify-content-center pb-5"},O={class:"col-md-4"},N={class:"border p-4 mb-4"},$=["src"],A={class:"w-100"},I={class:"d-flex justify-content-between"},S={class:"mb-0 fw-bold"},j={class:"mb-0"},C={class:"mb-0 fw-bold"},F={class:"table mt-4 border-top border-bottom text-muted"},P=e("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"小計",-1),R={class:"text-end border-0 px-0 pt-4"},B=e("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"折扣",-1),D={class:"text-end border-0 px-0 pt-4"},U=e("tr",null,[e("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"支付方式"),e("td",{class:"text-end border-0 px-0 pt-0 pb-4"},"ApplePay")],-1),q={class:"d-flex justify-content-between mt-4"},H=e("p",{class:"mb-0 h4 fw-bold"},"結帳金額",-1),M={class:"mb-0 h4 fw-bold"},z={class:"col-md-6"},W={class:"accordion",id:"accordionExample"},G={class:"card rounded-0"},J=e("div",{class:"card-header bg-white border-0 py-3",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},[e("p",{class:"mb-0 position-relative custom-checkout-label"},"信用卡付款")],-1),K={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Q={class:"card-body bg-light ps-5 py-4"},X={class:"mb-2"},Y=e("label",{for:"Lorem ipsum1",class:"text-muted mb-0"},"信用卡號",-1),Z={class:"mb-0"},ee=e("label",{for:"Lorem ipsum2",class:"text-muted mb-0"},"檢查碼",-1),se=e("div",{class:"card rounded-0"},[e("div",{class:"card-header bg-white border-0 py-3 collapsed",id:"headingTwo","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"},[e("p",{class:"mb-0 position-relative custom-checkout-label"},"WebATM")]),e("div",{id:"collapseTwo",class:"collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},[e("div",{class:"card-body bg-light ps-5 py-4"},[e("div",{class:"mb-2"},[e("label",{for:"Lorem ipsum1",class:"text-muted mb-0"},"Lorem ipsum"),e("input",{type:"text",class:"form-control",id:"Lorem ipsum1",placeholder:"Lorem ipsum"})]),e("div",{class:"mb-0"},[e("label",{for:"Lorem ipsum2",class:"text-muted mb-0"},"ApplePay"),e("input",{type:"text",class:"form-control",id:"Lorem ipsum2",placeholder:"Lorem ipsum"})])])])],-1),te=e("div",{class:"card rounded-0"},[e("div",{class:"card-header bg-white border-0 py-3 collapsed",id:"headingThree","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree"},[e("p",{class:"mb-0 position-relative custom-checkout-label"},"ApplePay")]),e("div",{id:"collapseThree",class:"collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},[e("div",{class:"card-body bg-light ps-5 py-4"},[e("div",{class:"mb-2"},[e("label",{for:"Lorem ipsum1",class:"text-muted mb-0"},"Lorem ipsum"),e("input",{type:"text",class:"form-control",id:"Lorem ipsum1",placeholder:"Lorem ipsum"})]),e("div",{class:"mb-0"},[e("label",{for:"Lorem ipsum2",class:"text-muted mb-0"},"Lorem ipsum"),e("input",{type:"text",class:"form-control",id:"Lorem ipsum2",placeholder:"Lorem ipsum"})])])])],-1),oe=e("div",{class:"d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end w-100"},[e("button",{type:"submit",class:"btn btn-dark py-3 px-7",style:{"background-color":"#7FA185"}},"確認付款")],-1);function ae(d,t,re,de,a,u){const n=c("VField"),p=c("error-message"),x=c("VForm");return i(),l("div",k,[V,e("div",E,[e("div",O,[e("div",N,[(i(!0),l(g,null,y(a.order,s=>(i(),l("div",{class:"d-flex",key:s.id},[e("img",{src:s.product.imageUrl,alt:"商品圖片",class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,$),e("div",A,[e("div",I,[e("p",S,o(s.product.title),1),e("p",j,"NT$"+o(s.product.price),1)]),e("p",C,"x"+o(s.qty),1)])]))),128)),e("table",F,[e("tbody",null,[e("tr",null,[P,e("td",R,"NT$"+o(a.order.total),1)]),e("tr",null,[B,e("td",D,"NT$"+o(a.order.final_total-a.order.total),1)]),U])]),e("div",q,[H,e("p",M,"NT$"+o(a.order.final_total),1)])])]),e("div",z,[r(x,{ref:"form",onSubmit:u.payOrder},{default:w(({errors:s})=>[e("div",W,[e("div",G,[J,e("div",K,[e("div",Q,[e("div",X,[Y,r(n,{type:"text",class:h(["form-control",{"is-invalid":s.creditCard}]),id:"creditCardNum",name:"creditCard",placeholder:"xxxx xxxx xxxx xxxx",rules:"required|credit_card"},null,8,["class"]),r(p,{name:"creditCard",class:"invalid-feedback"})]),e("div",Z,[ee,r(n,{type:"text",class:h(["form-control",{"is-invalid":s.checkNum}]),id:"checkNum",placeholder:"xxx",rules:"required|min:3|max:3",name:"checkNum"},null,8,["class"]),r(p,{name:"checkNum",class:"invalid-feedback"})])])])]),se,te]),oe]),_:1},8,["onSubmit"])])])])}const pe=v(T,[["render",ae]]);export{pe as default};
